{% extends 'base.html' %} {% block title %}
  Sign Up
{% endblock %} {% block content %}
  {% load static %}
  <section class="vh-100">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-xl-10 mw-75">
          <div class="card mask-custom" style="border-radius: 1rem">
            <form method="post" action="{% url 'auths:signup' %}" enctype="multipart/form-data">
              <div class="row g-0">
                <div class="col-md-6 col-lg-7 d-flex align-items-center">
                  <div class="card-body p-4 p-lg-3 px-lg-5 text-white">
                    <div class="text-center text-md-start">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-right-to-bracket fa-2x me-3" style="color: whitesmoke"></i>
                        <h2 class="fw-bold">Welcome to Planner</h2>
                      </div>
                      <p class="fs-4">Create an account to get started</p>
                    </div>
                    {% csrf_token %}

                    <div class="form-outline mb-4">
                      {{ form.full_name }}
                      <label class="form-label" for="{{ form.full_name.id_for_label }}">{{ form.full_name.help_text|safe }}</label>
                      {% if form.full_name.errors %}
                        <ul class="" style="color: orange">
                          {% for error in form.full_name.errors %}
                            <li>{{ error }}</li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                    </div>

                    <div class="d-flex justify-content-between flex-column flex-sm-column flex-lg-row gap-lg-3">
                      <div class="form-outline mb-4">
                        {{ form.student_class }}
                        <label class="form-label" for="{{ form.student_class.id_for_label }}">{{ form.student_class.help_text|safe }}</label>
                        {% if form.student_class.errors %}
                          <ul class="" style="color: orange">
                            {% for error in form.student_class.errors %}
                              <li>{{ error }}</li>
                            {% endfor %}
                          </ul>
                        {% endif %}
                      </div>
                      <div class="form-outline mb-4">
                        {{ form.division }}
                        <label class="form-label" for="{{ form.division.id_for_label }}">{{ form.division.help_text|safe }}</label>
                        {% if form.division.errors %}
                          <ul class="" style="color: orange">
                            {% for error in form.division.errors %}
                              <li>{{ error }}</li>
                            {% endfor %}
                          </ul>
                        {% endif %}
                      </div>
                    </div>

                    <div class="form-outline mb-4">
                      {{ form.username }}
                      <label class="form-label" for="{{ form.username.id_for_label }}">{{ form.username.help_text|safe }}</label>
                      {% if form.username.errors %}
                        <ul class="" style="color: orange">
                          {% for error in form.username.errors %}
                            <li>{{ error }}</li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                    </div>

                    <div class="d-flex justify-content-between flex-column flex-sm-column flex-lg-row gap-lg-3">
                      <div class="form-outline mb-4">
                        {{ form.password1 }}
                        <label class="form-label" for="{{ form.password1.id_for_label }}">{{ form.password1.help_text|safe }}</label>
                        {% if form.password1.errors %}
                          <ul class="" style="color: orange">
                            {% for error in form.password1.errors %}
                              <li>{{ error }}</li>
                            {% endfor %}
                          </ul>
                        {% endif %}
                      </div>
                      <div class="form-outline mb-4">
                        {{ form.password2 }}
                        <label class="form-label" for="{{ form.password2.id_for_label }}">{{ form.password2.help_text|safe }}</label>
                        {% if form.password2.errors %}
                          <ul class="" style="color: orange; width: 80%; box-sizing: border-box;">
                            {% for error in form.password2.errors %}
                              <li>{{ error }}</li>
                            {% endfor %}
                          </ul>
                        {% endif %}
                      </div>
                    </div>

                    {% if form.non_field_errors %}
                      <ul class="" style="color: orange; width: 70%;">
                        {% for error in form.non_field_errors %}
                          <li style="width: 70%; ">{{ error }}</li>
                        {% endfor %}
                      </ul>
                    {% endif %}

                    <div class="pt-1 mb-4">
                      {{ form.image }}
                      <label class="form-label" for="{{ form.image.id_for_label }}">{{ form.image.help_text|safe }}</label>
                    </div>
                    <div class="d-flex justify-content-start align-items-center gap-3">
                      <button class="btn btn-dark btn-lg btn-block" type="submit">Create Account</button>
                      <p class="m-1" style="color: whitesmoke">
                        ALready have account?
                        <a href="{% url 'auths:login' %}" style="color: white">Login here</a>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-lg-5 d-none d-md-block h-100">
                  <div class="d-flex" style="height: 85dvh;">
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp" alt="login form" class="dynamic-img img-fluid" style="border-radius: 0 1rem 1rem 0;  object-fit: cover;" />
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    //image update with upload images
    const fileInput = document.querySelector('input[type="file"]')
    const img = document.querySelector('.dynamic-img')
    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0]
      const reader = new FileReader()
      reader.onloadend = () => {
        img.src = reader.result
      }
      reader.readAsDataURL(file)
    })
  </script>
  <style>
    input[type='number']::-webkit-inner-spin-button,
    input[type='number']::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
  </style>
{% endblock %}
